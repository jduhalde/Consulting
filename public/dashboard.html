<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Portal Multi-Servicio IA - Julio Duhalde Consulting">
    <title>Portal IA - Dashboard | Julio Duhalde Consulting</title>

    <!-- Styles -->
    <link rel="stylesheet" href="assets/css/dashboard.css">
    <link rel="stylesheet" href="assets/css/modal.css">

    <!-- Favicon (opcional) -->
    <!-- <link rel="icon" href="assets/favicon.ico"> -->
</head>

<body>

    <!-- ========================================
         HEADER
         ======================================== -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <span class="logo-icon">ü§ñ</span>
                <span>Portal Multi-Servicio IA</span>
            </div>

            <div class="user-info">
                <span class="badge badge-success" id="activeAgentsBadge">7 Activos</span>
                <span class="badge badge-info" id="totalAgentsBadge">16 Total</span>
                <span class="badge badge-warning" id="modeBadge">Modo Desarrollo</span>
                <span style="color: var(--gray-600);">Demo User</span>
            </div>
        </div>
    </header>

    <!-- ========================================
         MAIN CONTAINER
         ======================================== -->
    <div class="container">

        <!-- Stats Grid -->
        <div class="stats-grid" id="statsGrid">
            <!-- Renderizado din√°micamente por dashboard.js -->
            <div class="stat-card loading">
                <div class="stat-header">
                    <span class="stat-label">Cargando...</span>
                </div>
                <div class="stat-value">-</div>
            </div>
        </div>

        <!-- Upload Section -->
        <div class="upload-section" id="uploadZone">
            <div class="upload-icon">üì§</div>
            <div class="upload-title">Arrastra archivos aqu√≠</div>
            <div class="upload-subtitle">
                O haz click para seleccionar ‚Ä¢ PDF, JPG, PNG, XLSX, DOCX
            </div>
            <input type="file" id="fileInput" style="display: none;" multiple
                accept=".pdf,.jpg,.jpeg,.png,.xlsx,.xls,.csv,.doc,.docx">
        </div>

        <!-- Agents Section -->
        <div class="section-header">
            <h2 class="section-title">Cat√°logo de Agentes IA</h2>
            <div class="filter-tabs">
                <button class="tab active" onclick="dashboard.filterAgents('all')">
                    Todos (16)
                </button>
                <button class="tab" onclick="dashboard.filterAgents('active')">
                    Activos (7)
                </button>
                <button class="tab" onclick="dashboard.filterAgents('planned')">
                    En Desarrollo (9)
                </button>
            </div>
        </div>

        <div class="agents-grid" id="agentsGrid">
            <!-- Renderizado din√°micamente por dashboard.js -->
            <div class="agent-card loading">
                <div class="agent-icon" style="background: var(--gray-200);">
                    <div class="spinner"></div>
                </div>
                <div class="agent-name">Cargando agentes...</div>
            </div>
        </div>

        <!-- Jobs Section -->
        <h2 class="section-title">Trabajos Recientes</h2>
        <div class="jobs-container" id="jobsContainer">
            <!-- Renderizado din√°micamente por dashboard.js -->
            <div class="empty-state">
                <div class="empty-state-icon">‚è≥</div>
                <p>Cargando trabajos...</p>
            </div>
        </div>

    </div>

    <!-- ========================================
         SCRIPTS - Orden de carga IMPORTANTE
         ======================================== -->

    <!-- 1. Configuraci√≥n (debe cargar primero) -->
    <script src="assets/js/config.js"></script>

    <!-- 2. Cat√°logo de agentes -->
    <script src="assets/js/agents-data.js"></script>

    <!-- 3. API Client -->
    <script src="assets/js/api-client.js"></script>

    <script src="assets/js/agent-modal.js"></script>

    <!-- 4. Dashboard (debe cargar √∫ltimo) -->
    <script src="assets/js/dashboard.js"></script>

    <!-- ========================================
         INLINE SCRIPT - Configuraci√≥n inicial
         ======================================== -->
    <script>
        // Actualizar badges seg√∫n configuraci√≥n
        document.addEventListener('DOMContentLoaded', () => {
            const modeBadge = document.getElementById('modeBadge');

            if (window.APP_CONFIG) {
                // Actualizar badge de modo
                if (window.APP_CONFIG.SHOW_ALL_AGENTS) {
                    modeBadge.textContent = 'Modo Desarrollo';
                    modeBadge.className = 'badge badge-warning';
                } else {
                    modeBadge.textContent = 'Modo Producci√≥n';
                    modeBadge.className = 'badge badge-success';
                }

                // Log de configuraci√≥n
                console.log('üìä Configuraci√≥n cargada:', {
                    modo: window.APP_CONFIG.SHOW_ALL_AGENTS ? 'Desarrollo' : 'Producci√≥n',
                    backend: window.APP_CONFIG.CURRENT_ENV,
                    apiUrl: window.APP_CONFIG.getApiUrl()
                });
            }
        });
    </script>

</body>

</html>